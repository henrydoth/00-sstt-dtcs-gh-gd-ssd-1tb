labels = short_labels[levels(df_ord$lam_sang_group)]
) +
labs(x = "Ph√¢n ƒë·ªô MMSE", y = "Ph√¢n lo·∫°i l√¢m s√†ng") +
theme_minimal(base_family = "Times New Roman") +
theme(axis.text = element_text(size = 11), panel.grid = element_blank())
# üìù Inline codes m√¥ t·∫£
cau_chen_bieu_do_heatmap <- glue(
"Bi·ªÉu ƒë·ªì th·ªÉ hi·ªán s∆∞ ph√¢n b·ªë ch√©o cho th·∫•y m·ªëi li√™n h·ªá gi·ªØa ph√¢n ƒë·ªô giai ƒëo·∫°n b·ªánh theo ti√™u chu·∫©n MMSE v√† ph√¢n ƒë·ªô theo ti√™u chu·∫©n l√¢m s√†ng, hay c√≤n g·ªçi ti√™u chu·∫©n v√†ng. Bi·ªÉu ƒë·ªì cho th·∫•y h·ªá s·ªë Spearman œÅ = {rho}, Kendall œÑ = {tau}, v·ªõi p = {pval_s_fmt}. ",
if (pval_s < 0.05) "K·∫øt qu·∫£ c√≥ √Ω nghƒ©a th·ªëng k√™." else "K·∫øt qu·∫£ kh√¥ng c√≥ √Ω nghƒ©a th·ªëng k√™."
)
cau_bieudo_ordinal <- glue(
"Bi·ªÉu ƒë·ªì minh h·ªça ph√¢n b·ªë t·∫≠p trung ·ªü c√°c m·ª©c ƒë·ªô t∆∞∆°ng ·ª©ng, ",
"cho th·∫•y xu h∆∞·ªõng ƒë·ªìng bi·∫øn gi·ªØa ph√¢n ƒë·ªô giai ƒëo·∫°n b·ªánh theo ti√™u chu·∫©n MMSE v√† ph√¢n ƒë·ªô theo ti√™u chu·∫©n l√¢m s√†ng."
)
cau_chen_bieu_do_gop_2_loai  <- glue(
"Bi·ªÉu ƒë·ªì b√™n tr√°i  th·ªÉ hi·ªán s∆∞ ph√¢n b·ªë ch√©o cho th·∫•y m·ªëi li√™n h·ªá gi·ªØa ph√¢n ƒë·ªô giai ƒëo·∫°n b·ªánh theo ti√™u chu·∫©n MMSE v√† ph√¢n ƒë·ªô theo ti√™u chu·∫©n l√¢m s√†ng, hay c√≤n g·ªçi ti√™u chu·∫©n v√†ng. Bi·ªÉu ƒë·ªì cho th·∫•y h·ªá s·ªë Spearman œÅ = {rho}, Kendall œÑ = {tau}, v·ªõi p = {pval_s_fmt}. ",
if (pval_s < 0.05) "K·∫øt qu·∫£ c√≥ √Ω nghƒ©a th·ªëng k√™." else "K·∫øt qu·∫£ kh√¥ng c√≥ √Ω nghƒ©a th·ªëng k√™. ",  "Bi·ªÉu ƒë·ªì b√™n ph·∫£i minh h·ªça ph√¢n b·ªë t·∫≠p trung ·ªü c√°c m·ª©c ƒë·ªô t∆∞∆°ng ·ª©ng, ", "cho th·∫•y xu h∆∞·ªõng ƒë·ªìng bi·∫øn gi·ªØa ph√¢n ƒë·ªô giai ƒëo·∫°n b·ªánh theo ti√™u chu·∫©n MMSE v√† ph√¢n ƒë·ªô theo ti√™u chu·∫©n l√¢m s√†ng."
)
#| label: plot_heat_scatter_ordinal
#| fig-cap: "Bi·ªÉu ƒë·ªì heatmap v√† scatter ordinal th·ªÉ hi·ªán m·ªëi li√™n h·ªá gi·ªØa ph√¢n ƒë·ªô MMSE v√† giai ƒëo·∫°n l√¢m s√†ng"
#| echo: true
#| message: false
#| warning: false
#| fig-align: center
#| out.width: "100%"
pacman::p_load(patchwork)  # üì¶ Gh√©p bi·ªÉu ƒë·ªì
# üåà Nh√£n r√∫t g·ªçn
short_labels <- c(
"Suy gi·∫£m nh·∫≠n th·ª©c nh·∫π" = "SGNT nh·∫π",
"Sa s√∫t tr√≠ tu·ªá nh·∫π" = "SSTT nh·∫π",
"Sa s√∫t tr√≠ tu·ªá trung b√¨nh" = "SSTT TB",
"Sa s√∫t tr√≠ tu·ªá n·∫∑ng" = "SSTT n·∫∑ng"
)
# üå°Ô∏è Heatmap pastel
df_heatmap <- df_ord %>%
count(lam_sang_group, mmse_group)
plot_heat <- ggplot(df_heatmap, aes(x = mmse_group, y = lam_sang_group, fill = n)) +
geom_tile(color = "white") +
geom_text(aes(label = n), color = "black", size = 4) +
scale_fill_gradient(low = "#a8edea", high = "#fed6e3") +  # pastel xanh-h·ªìng
scale_x_discrete(labels = short_labels[levels(df_ord$mmse_group)]) +
scale_y_discrete(labels = short_labels[levels(df_ord$lam_sang_group)]) +
labs(x = "Ph√¢n ƒë·ªô theo MMSE", y = "Ph√¢n ƒë·ªô tr√™n l√¢m s√†ng", fill = "T·∫ßn su·∫•t") +
theme_minimal(base_family = "Times New Roman") +
theme(
axis.text = element_text(size = 11),
axis.text.x = element_text(angle = 45, hjust = 1),
panel.grid = element_blank()
)
# üîµ Scatter ordinal pastel
plot_scatter <- ggplot(df_ord, aes(x = mmse_num, y = lam_sang_num)) +
geom_jitter(width = 0.2, height = 0.2, alpha = 0.6, color = "#40E0D0") +  # turquoise
geom_smooth(method = "lm", se = FALSE, color = "#FF6F61", linetype = "dashed") +  # coral
scale_x_continuous(
breaks = seq_along(levels(df_ord$mmse_group)),
labels = short_labels[levels(df_ord$mmse_group)]
) +
scale_y_continuous(
breaks = seq_along(levels(df_ord$lam_sang_group)),
labels = short_labels[levels(df_ord$lam_sang_group)]
) +
labs(x = "Ph√¢n ƒë·ªô theo MMSE", y = "Ph√¢n ƒë·ªô tr√™n l√¢m s√†ng") +
theme_minimal(base_family = "Times New Roman") +
theme(
axis.text = element_text(size = 11),
axis.text.x = element_text(angle = 45, hjust = 1),
panel.grid = element_blank()
)
# üåà Nh√£n r√∫t g·ªçn
short_labels <- c(
"Suy gi·∫£m nh·∫≠n th·ª©c nh·∫π" = "SGNT nh·∫π",
"Sa s√∫t tr√≠ tu·ªá nh·∫π" = "SSTT nh·∫π",
"Sa s√∫t tr√≠ tu·ªá trung b√¨nh" = "SSTT TB",
"Sa s√∫t tr√≠ tu·ªá n·∫∑ng" = "SSTT n·∫∑ng"
)
# üå°Ô∏è Heatmap pastel
df_heatmap <- df_ord %>%
count(lam_sang_group, mmse_group)
plot_heat <- ggplot(df_heatmap, aes(x = mmse_group, y = lam_sang_group, fill = n)) +
geom_tile(color = "white") +
geom_text(aes(label = n), color = "black", size = 4) +
scale_fill_gradient(low = "#a8edea", high = "#fed6e3") +  # pastel xanh-h·ªìng
scale_x_discrete(labels = short_labels[levels(df_ord$mmse_group)]) +
scale_y_discrete(labels = short_labels[levels(df_ord$lam_sang_group)]) +
labs(x = "Ph√¢n ƒë·ªô MMSE", y = "Ph√¢n lo·∫°i l√¢m s√†ng", fill = "T·∫ßn su·∫•t") +
theme_minimal(base_family = "Times New Roman") +  # ‚úÖ ho√†n ch·ªânh font
theme(
axis.text = element_text(size = 11),
axis.text.x = element_text(angle = 45, hjust = 1),
panel.grid = element_blank()
)
plot_heat + plot_scatter + plot_layout(ncol = 2)
plot_heat
plot_scatter
#| include: false
data <- data.frame(
Ten_bien = c(
"Tu·ªïi", "Gi·ªõi t√≠nh", "Tu·ªïi kh·ªüi ph√°t", "Th·ªùi gian ph√°t hi·ªán b·ªánh",
"Tr√¨nh ƒë·ªô h·ªçc v·∫•n", "Ngh·ªÅ nghi·ªáp tr∆∞·ªõc ƒë√¢y", "T√¨nh tr·∫°ng h√¥n nh√¢n",
"Ti·ªÅn s·ª≠ gia ƒë√¨nh", "B·ªánh ƒëi k√®m", "Thang MMSE", "Ti·ªÉu thang MMSE",
"Word List", "Digit span forward", "Digit span backward",
"TMT-A", "TMT-B", "Kh·∫£o s√°t s·ª± l∆∞u lo√°t ng√¥n ng·ªØ.",
"Tr·∫Øc nghi·ªám v·∫Ω ƒë·ªìng h·ªì", "Ch·∫©n ƒëo√°n", "Giai ƒëo·∫°n"
),
Loai_bien = c(
"ƒê·ªãnh l∆∞·ª£ng", "ƒê·ªãnh t√≠nh", "ƒê·ªãnh t√≠nh", "ƒê·ªãnh l∆∞·ª£ng",
"ƒê·ªãnh t√≠nh", "ƒê·ªãnh t√≠nh", "ƒê·ªãnh t√≠nh", "ƒê·ªãnh t√≠nh", "ƒê·ªãnh t√≠nh",
"ƒê·ªãnh l∆∞·ª£ng", "ƒê·ªãnh l∆∞·ª£ng", "ƒê·ªãnh l∆∞·ª£ng", "ƒê·ªãnh l∆∞·ª£ng", "ƒê·ªãnh l∆∞·ª£ng",
"ƒê·ªãnh t√≠nh", "ƒê·ªãnh t√≠nh", "ƒê·ªãnh l∆∞·ª£ng", "ƒê·ªãnh l∆∞·ª£ng", "ƒê·ªãnh t√≠nh", "ƒê·ªãnh t√≠nh"
),
Gia_tri_don_vi = c(
"NƒÉm", "Nam/N·ªØ", "Kh·ªüi ph√°t s·ªõm/kh·ªüi ph√°t mu·ªôn", "NƒÉm",
"C·∫•p 1, c·∫•p 2, c·∫•p 3, cao ƒë·∫≥ng/ƒë·∫°i h·ªçc, kh√¥ng x√°c ƒë·ªãnh",
"To√†n th·ªùi gian, b√°n th·ªùi gian, v·ªÅ h∆∞u",
"C√≥ ch·ªìng v·ª£, g√≥a, ly th√¢n/ly h√¥n", "C√≥ b·ªã SSTT", "C√≥, kh√¥ng",
"Gi√° tr·ªã t·ª´ 0 - 30", "T√πy thu·ªôc ch·ª©c nƒÉng nh·∫≠n th·ª©c",
"Gi√° tr·ªã t·ª´ 0 ‚Äì 30", "Gi√° tr·ªã t·ª´ 0 ‚Äì 14", "Gi√° tr·ªã t·ª´ 0 ‚Äì 12",
"Th·ªùi gian ƒë·∫°t khi d∆∞·ªõi 150 gi√¢y", "Th·ªùi gian ƒë·∫°t khi d∆∞·ªõi 300 gi√¢y",
"S·ªë l∆∞·ª£ng c√°c con v·∫≠t ng∆∞·ªùi l√†m tr·∫Øc nghi·ªám k·ªÉ t√™n",
"1 ƒë·∫øn 6 ƒëi·ªÉm theo thang Shulman", "SCI, MCI v√† SSTT",
"Giai ƒëo·∫°n nh·∫π, trung b√¨nh, n·∫∑ng"
)
)
#| echo: false
ft <- data %>%
flextable() %>%
set_header_labels(
Ten_bien = "T√™n bi·∫øn",
Loai_bien = "Lo·∫°i bi·∫øn",
Gia_tri_don_vi = "Gi√° tr·ªã / ƒê∆°n v·ªã"
) %>%
autofit() %>%
set_table_properties(width = 1, layout = "autofit") %>%
font(fontname = "Times New Roman", part = "all")  %>%
fontsize(size = 13, part = "all")
ft
#| echo: false
ft_tuoi
#| echo: false
tuoi_gp
#| message: false
#| warning: false
#| paged-print: false
ft_freq_p
#| echo: false
#| message: false
#| warning: false
#| paged-print: false
nhom_tuoi_gp
ft_gender
#| echo: false
#| message: false
#| warning: false
#| paged-print: false
gioitinh_bar_percent
#| echo: false
ft_edu
hocvan_bar_percent
#| echo: false
ft_mmse
#| echo: false
ggplot_mmse
#| label: Bi·ªÉu ƒë·ªì  ph√¢n lo·∫°i suy gi·∫£m nh·∫≠n th·ª©c v√† sa s√∫t tr√≠ tu·ªá theo MMSE chen k·∫øt qu·∫£
#| echo: false
ggplot_mmse
#| echo: false
ft_nhanthuc_group
#| echo: false
plot_nhanthuc_group
#| echo: false
ft_corr_long
#| echo: false
plot_corr_grouped
#| label: B m·ª©c ƒë·ªô ho√†n th√†nh b·ªô test th·∫ßn kinh nh·∫≠n th·ª©c
#| echo: false
ft_hoanthanh
#| label: BD ho√†n th√†nh b·ªô test th·∫ßn kinh nh·∫≠n th·ª©c
#| echo: false
plot_hoanthanh
#| label: Bi·ªÉu ƒë·ªì heatmap
#| message: false
#| warning: false
#| include: false
plot_heat
#| label: S·ª± t∆∞∆°ng ƒë·ªìng gi·ªØa ph√¢n ƒë·ªô MMSE v√† ph√¢n lo·∫°i l√¢m s√†ng theo ti√™u chu·∫©n l√¢m s√†ng k·∫øt qu·∫£
#| echo: false
plot_scatter
my_pres  <- read_pptx("sstt_SLIDE_input.pptx")
myftr <- "B·ªánh vi·ªán 30-4"
#| label: slide vai tro test than kinh nhan thuc
# add slide
my_pres  <- add_slide(my_pres , layout = "Title and Content", master = "Office Theme")
# add title of slide
my_pres <- ph_with(my_pres, value = "Vai tr√≤ test th·∫ßn kinh nh·∫≠n th·ª©c", location = ph_location_type(type = "title"))
# add body of slide
my_pres <- ph_with(my_pres, value = c("Vi·ªác ph√¢n t√≠ch t·ªët c√°c thang ƒëi·ªÉm t√¢m th·∫ßn kinh n√†y h·ªó tr·ª£ c√°c b√°c sƒ© l√¢m s√†ng trong vi·ªác ch·∫©n ƒëo√°n, ch·∫©n ƒëo√°n ph√¢n bi·ªát th·ªÉ b·ªánh" ,  "x√°c ƒë·ªãnh lƒ©nh v·ª±c nh·∫≠n th·ª©c b·ªã khi·∫øm khuy·∫øt, m·ª©c ƒë·ªô n·∫∑ng","Ch·ªçn l·ª±a c√°c ph∆∞∆°ng ph√°p can thi·ªáp nh·∫≠n th·ª©c kh√¥ng d√πng thu·ªëc nh∆∞ t·∫≠p luy·ªán nh·∫≠n th·ª©c (cognitive training), ph·ª•c h·ªìi nh·∫≠n th·ª©c (cognitive rehabilitation), k√≠ch th√≠ch nh·∫≠n th·ª©c (cognitive stimulation); theo d√µi di·ªÖn ti·∫øn khi·∫øm khuy·∫øt nh·∫≠n th·ª©c ƒë·∫∑c bi·ªát trong c√°c tr∆∞·ªùng h·ª£p than phi·ªÅn gi·∫£m nh·∫≠n th·ª©c ch·ªß quan (subjective cognitive impairment), suy gi·∫£m nh·∫≠n th·ª©c nh·∫π (mild cognitive impairment)."), location = ph_location_type(type = "body"))
#| include: false
ul <- unordered_list(
level_list = c(1, 1, 1,1 ),
str_list = c("ƒê·∫∑t v·∫•n ƒë·ªÅ", "ƒê·ªëi t∆∞·ª£ng v√† ph∆∞∆°ng ph√°p nghi√™n c·ª©u", "K·∫øt qu·∫£ - B√†n lu·∫≠n", "K·∫øt lu·∫≠n"),
style = fp_text(color = "black", font.size = 0) )
my_pres  <- add_slide(my_pres , layout = "Title and Content", master = "Office Theme")
my_pres <- ph_with(my_pres, value = "N·ªôi dung tr√¨nh b√†y", location = ph_location_type(type = "title"))
my_pres <- ph_with(x = my_pres, value = ul,
location = ph_location_type(type = "body") )
#| include: false
ul <- unordered_list(
level_list = c(1, 2,  1, 2, 2),
str_list = c("C√¢u h·ªèi nghi√™n c·ª©u", "Gi√° tr√≠ ch·∫©n ƒëo√°n v√† ƒëi·ªÅu tr·ªã b·ªô test l√† g√¨?", "M·ª•c ti√™u", "Nghi√™n c·ª©u m·ªëi t∆∞∆°ng quan c·ªßa thang ƒëi·ªÉm MMSE v·ªõi c√°c test th·∫ßn kinh nh·∫≠n th·ª©c kh√°c trong b·ªô Test th·∫ßn kinh nh·∫≠n th·ª©c t·∫°i B·ªánh vi·ªán 30-4.", "ƒê√°nh gi√° hi·ªáu qu·∫£ ·ª©ng d·ª•ng c·ªßa b·ªô Test th·∫ßn kinh nh·∫≠n th·ª©c trong ch·∫©n ƒëo√°n v√† ƒëi·ªÅu tr·ªã Sa s√∫t tr√≠ tu·ªá t·∫°i B·ªánh vi·ªán 30-4"),
style = fp_text(color = "black", font.size = 0) )
my_pres  <- add_slide(my_pres , layout = "Title and Content", master = "Office Theme")
my_pres <- ph_with(my_pres, value = "C√¢u h·ªèi NC, m·ª•c ti√™u", location = ph_location_type(type = "title"))
my_pres <- ph_with(x = my_pres, value = ul,
location = ph_location_type(type = "body") )
layout_summary(my_pres)
layout_properties(my_pres, layout = "Two Content", master = "Office Theme")
install.packages("pubmed2bib")
librarry(pbmed2bib)
librarry(pbmed2bib)
install.packages("here")
library(pbmed2bib)
library(pbmed2bib)
install.packages("pbmed2bib")
library(pbmed2bib)
library(pbmed2bib)
install.packages("rbibutils")
library(rbibutils)
library(here)
bib_convert(
infile = here("Downloads", "22507355.nbib"),
outfile = here("Downloads", "outputfile.bib"),
informat = "nbib",
outformat = "bib"
)
library(rbibutils)
library(here)
bib_convert(
infile = here("Downloads", "22507355.nbib"),
outfile = here("Downloads", "outputfile.bib"),
informat = "nbib",
outformat = "bib"
)
install.packages("rbibutils", type = "source")
library(rbibutils)
library(here)
bib_convert(
infile = here("Downloads", "22507355.nbib"),
outfile = here("Downloads", "outputfile.bib"),
informat = "nbib",
outformat = "bib"
)
library(rbibutils)
library(rbibutils)
library(here)
rbibutils::bib_convert(
infile = here("tai_liem_tham_khao", "22507355.nbib"),
outfile = here("tai_liem_tham_khao", "outputfile.bib"),
informat = "nbib",
outformat = "bib"
)
file.exists(here("tai_liem_tham_khao", "22507355.nbib"))
library(rbibutils)   # T·∫£i th∆∞ vi·ªán chuy·ªÉn ƒë·ªïi ƒë·ªãnh d·∫°ng tr√≠ch d·∫´n
library(here)        # T·∫°o ƒë∆∞·ªùng d·∫´n t∆∞∆°ng ƒë·ªëi an to√†n
# Chuy·ªÉn ƒë·ªïi file NBIB th√†nh BibTeX
rbibutils::bib_convert(
infile = here("tai_liem_tham_khao", "22507355.nbib"),      # File ƒë·∫ßu v√†o
outfile = here("tai_liem_tham_khao", "outputfile.bib"),    # File ƒë·∫ßu ra
informat = "nbib",                                          # ƒê·ªãnh d·∫°ng ƒë·∫ßu v√†o
outformat = "bib"                                           # ƒê·ªãnh d·∫°ng ƒë·∫ßu ra
)
library(rbibutils)   # T·∫£i th∆∞ vi·ªán chuy·ªÉn ƒë·ªïi ƒë·ªãnh d·∫°ng tr√≠ch d·∫´n
library(here)        # T·∫°o ƒë∆∞·ªùng d·∫´n t∆∞∆°ng ƒë·ªëi an to√†n
# Chuy·ªÉn ƒë·ªïi file NBIB th√†nh BibTeX
rbibutils:::bib_convert(
infile = here("tai_liem_tham_khao", "22507355.nbib"),      # File ƒë·∫ßu v√†o
outfile = here("tai_liem_tham_khao", "outputfile.bib"),    # File ƒë·∫ßu ra
informat = "nbib",                                          # ƒê·ªãnh d·∫°ng ƒë·∫ßu v√†o
outformat = "bib"                                           # ƒê·ªãnh d·∫°ng ƒë·∫ßu ra
)
library(rbibutils)   # T·∫£i th∆∞ vi·ªán chuy·ªÉn ƒë·ªïi ƒë·ªãnh d·∫°ng tr√≠ch d·∫´n
library(here)        # T·∫°o ƒë∆∞·ªùng d·∫´n t∆∞∆°ng ƒë·ªëi an to√†n
rbibutils:::bib_convert(
infile = here("tai_liem_tham_khao", "22507355.nbib"),
outfile = here("tai_liem_tham_khao", "outputfile.bib"),
informat = "nbib",
outformat = "bib"
)
install.packages("pubmed2bib")
install.packages("pubmed2bib")
Warning in install.packages :
install.packages("remotes")
remotes::install_github("ikashnitsky/pubmed2bib")
https://cran.r-project.org/doc/manuals/r-patched/R-admin.html#Installing-packages
install.packages("remotes")
remotes::install_github("ikashnitsky/pubmed2bib")
library(pubmed2bib)
remotes::install_github("ikashnitsky/pubmed2bib")
install.packages("citr")
library(remote)
install.packages("remotes")
remotes::install_github("crsh/citr")
citr:::insert_citation()
citr:::insert_citation()
library(refManagerR)
library(refManageR)
install.packages("refManageR")
library(RefManageR)
bib_data <- ReadBib("sstt_reference.bib")
bib_data
length(bib_data)
bib_data[[1]]
bib_data[[2]]
bib_data[author = "Do"]
bib_data[author = "Do"]
bib_data[author = "Do"]
duplicated_titles <- duplicated(bib_data$title)
bib_data[duplicated_titles]
bib_data[duplicated_titles]
bib_data_unique <- bib_data[!duplicated(bib_data$title)]
bib_data_unique <- bib_data[!duplicated(bib_data$title)]
# L·ªçc theo nƒÉm v√† t√°c gi·∫£
bib_data[bib_data$year == "2017"]
#L·ªçc theo t·∫°p ch√≠:
bib_data[bib_data$journal == "Acupuncture"]
library(RefManageR)
bib_data <- ReadBib("sstt_reference.bib")
length(bib_data)
bib_data[[1]]
bib_data[[2]]
bib_data[author = "Do"]
duplicated_titles <- duplicated(bib_data$title)
bib_data[duplicated_titles]
bib_data_unique <- bib_data[!duplicated(bib_data$title)]
# L·ªçc theo nƒÉm v√† t√°c gi·∫£
bib_data[bib_data$year == "2017"]
#L·ªçc theo t·∫°p ch√≠:
bib_data[bib_data$journal == "Acupuncture"]
library(RefManageR)
bib_data <- ReadBib("sstt_reference.bib")
length(bib_data)
bib_data[[1]]
bib_data[[2]]
bib_data[author = "Do"]
duplicated_titles <- duplicated(bib_data$title)
bib_data[duplicated_titles]
bib_data_unique <- bib_data[!duplicated(bib_data$title)]
# L·ªçc theo nƒÉm v√† t√°c gi·∫£
bib_data[bib_data$year == "2017"]
#L·ªçc theo t·∫°p ch√≠:
bib_data[bib_data$journal == "Acupuncture"]
WriteBib(bib, file = "new.bib")
tltk <- ReadBib("sstt_reference.bib")
tltk <- ReadBib("sstt_reference.bib")
tltk
tltk[[1]]
tltk[[2]]
tltk[author = "Do"]
duplicated_titles <- duplicated(tltk$title)
tltk_unique <- tltk[!duplicated(tltk$title)]
# L·ªçc theo nƒÉm v√† t√°c gi·∫£
tltk[tltk$year == "2017"]
#L·ªçc theo t·∫°p ch√≠:
tltk[tltk$journal == "Acupuncture"]
WriteBib(tltk, file = "new.bib")
library(RefManageR)
# ƒê·ªçc file BibTeX
tltk <- ReadBib("sstt_reference.bib")
# L·ªçc b·ªè tr√πng ti√™u ƒë·ªÅ
tltk_unique <- tltk[!duplicated(tltk$title)]
# Ghi file t·∫°m
WriteBib(tltk_unique, file = "new_temp.bib")
# Chuy·ªÉn file sang UTF-8
bib_lines <- readLines("new_temp.bib", encoding = "unknown")
writeLines(bib_lines, "new.bib", useBytes = TRUE)
# X√≥a file t·∫°m n·∫øu mu·ªën
file.remove("new_temp.bib")
library(RefManageR)
# ƒê·ªçc file BibTeX
tltk <- ReadBib("sstt_reference.bib")
tltk
library(RefManageR)
# ƒê·ªçc file g·ªëc
tltk <- ReadBib("sstt_reference.bib")
# L·ªçc tr√πng ti√™u ƒë·ªÅ
tltk_unique <- tltk[!duplicated(tltk$title)]
# Ghi file t·∫°m
WriteBib(tltk_unique, file = "temp.bib")
# ƒê·ªçc file t·∫°m
bib_lines <- readLines("temp.bib", encoding = "unknown")
# Chuy·ªÉn ƒë·ªïi encoding v·ªÅ UTF-8
bib_lines_utf8 <- iconv(bib_lines, from = "", to = "UTF-8")
# Ghi file cu·ªëi c√πng
writeLines(bib_lines_utf8, "new.bib", useBytes = TRUE)
# X√≥a file t·∫°m
file.remove("temp.bib")
# üìö C√°c h√†m c·∫ßn
convert_latex_to_unicode <- function(text) {
text <- gsub("\\{\\\\u ([aeiouyAEIOUY])\\}", "\u0306\\1", text, perl = TRUE)  # d·∫•u ƒÉ √¢ √™ √¥ ∆° ∆∞
text <- gsub("\\{\\\\'([aeiouyAEIOUY])\\}", "\u0301\\1", text, perl = TRUE)   # d·∫•u s·∫Øc
text <- gsub("\\{\\\\`([aeiouyAEIOUY])\\}", "\u0300\\1", text, perl = TRUE)   # d·∫•u huy·ªÅn
text <- gsub("\\{\\\\~([aeiounAEIOUN])\\}", "\u0303\\1", text, perl = TRUE)   # d·∫•u ng√£
text <- gsub("\\{\\\\\\^([aeiouAEIOU])\\}", "\u0302\\1", text, perl = TRUE)   # d·∫•u m≈©
text <- gsub("\\{\\\\\\.([aeiouAEIOU])\\}", "\u0307\\1", text, perl = TRUE)   # d·∫•u n·∫∑ng
text <- gsub("\\{\\\\a\\'([aeiou])\\}", "\u1EA1\\1", text, perl = TRUE)       # ch·ªØ ·∫°
text <- gsub("\\{\\\\DJ\\}", "ƒê", text, perl = TRUE)                           # ch·ªØ ƒê
text <- gsub("\\{\\\\dj\\}", "ƒë", text, perl = TRUE)                           # ch·ªØ ƒë
text <- gsub("\\{([^\\}]*)\\}", "\\1", text, perl = TRUE)                      # b·ªè d·∫•u {}
return(text)
}
# üìÇ H√†m ƒë·ªçc file, x·ª≠ l√Ω, ghi l·∫°i
convert_bib_latex_to_unicode <- function(input_bib, output_bib) {
# ƒê·ªçc file g·ªëc
bib_lines <- readLines(input_bib, encoding = "UTF-8")
# √Åp d·ª•ng chuy·ªÉn ƒë·ªïi
bib_cleaned <- sapply(bib_lines, convert_latex_to_unicode)
# Ghi file m·ªõi
writeLines(bib_cleaned, output_bib, useBytes = TRUE)
cat("‚úÖ Chuy·ªÉn ƒë·ªïi th√†nh c√¥ng! File m·ªõi:", output_bib, "\n")
}
# üöÄ G·ªçi h√†m:
convert_bib_latex_to_unicode("sstt_reference.bib", "sstt_reference_clean.bib")
library(RefManageR)
# ƒê·ªçc file g·ªëc
tltk <- ReadBib("sstt_reference_clean.bib")
# L·ªçc tr√πng ti√™u ƒë·ªÅ
tltk_unique <- tltk[!duplicated(tltk$title)]
# Ghi file t·∫°m
WriteBib(tltk_unique, file = "temp.bib")
# ƒê·ªçc file t·∫°m
bib_lines <- readLines("temp.bib", encoding = "unknown")
# Chuy·ªÉn ƒë·ªïi encoding v·ªÅ UTF-8
bib_lines_utf8 <- iconv(bib_lines, from = "", to = "UTF-8")
# Ghi file cu·ªëi c√πng
writeLines(bib_lines_utf8, "new.bib", useBytes = TRUE)
# X√≥a file t·∫°m
file.remove("temp.bib")
# ƒê·ªçc file t·∫°m
bib_lines <- readLines("temp.bib", encoding = "unknown")
# ƒê·ªçc file g·ªëc
tltk <- ReadBib("sstt_reference_clean.bib")
library(RefManageR)
# ƒê·ªçc file g·ªëc
tltk <- ReadBib("sstt_reference_clean.bib")
tltk
library(RefManageR)
# ƒê·ªçc file g·ªëc
tltk <- ReadBib("sstt_reference.bib")
tltk
tltk_unique <- tltk[!duplicated(tltk$title)]
library(RefManageR)
# B∆∞·ªõc 1: ƒê·ªçc file .bib
bib <- ReadBib("sstt_reference.bib")
bib
all_keys <- bib$key
cat("T·ªïng s·ªë entry:", length(all_keys), "\n")
# B∆∞·ªõc 3: T√¨m c√°c ID b·ªã tr√πng
duplicated_keys <- all_keys[duplicated(all_keys)]
unique(duplicated_keys)  # In ra danh s√°ch c√°c ID tr√πng
duplicated_keys
library(RefManageR)
# B∆∞·ªõc 1: ƒê·ªçc file .bib
bib <- ReadBib("sstt_reference.bib")
# B∆∞·ªõc 2: Xem t·∫•t c·∫£ c√°c keys (ID) trong bib
all_keys <- bib$key
cat("T·ªïng s·ªë entry:", length(all_keys), "\n")
# B∆∞·ªõc 3: T√¨m c√°c ID b·ªã tr√πng
duplicated_keys <- all_keys[duplicated(all_keys)]
unique(duplicated_keys)  # In ra danh s√°ch c√°c ID tr√πng
# B∆∞·ªõc 4: X·ª≠ l√Ω gi·ªØ l·∫°i 1 b·∫£n duy nh·∫•t
bib_unique <- bib[!duplicated(all_keys)]
# B∆∞·ªõc 5: Ghi ra file m·ªõi
WriteBib(bib_unique, file = "sstt_reference_clean.bib")
cat("‚úÖ ƒê√£ x·ª≠ l√Ω xong file! File m·ªõi l∆∞u t·∫°i: sstt_reference_clean.bib\n")
library(RefManageR)
# B∆∞·ªõc 1: ƒê·ªçc file .bib
bib <- ReadBib("sstt_reference.bib")
# B∆∞·ªõc 2: Xem t·∫•t c·∫£ c√°c keys (ID) trong bib
all_keys <- bib$key
cat("T·ªïng s·ªë entry:", length(all_keys), "\n")
# B∆∞·ªõc 3: T√¨m c√°c ID b·ªã tr√πng
duplicated_keys <- all_keys[duplicated(all_keys)]
unique(duplicated_keys)  # In ra danh s√°ch c√°c ID tr√πng
duplicated_keys
library(RefManageR)
# B∆∞·ªõc 1: ƒê·ªçc file .bib
bib <- ReadBib("sstt_reference.bib")
# B∆∞·ªõc 2: Xem t·∫•t c·∫£ c√°c keys (ID) trong bib
all_keys <- bib$key
cat("T·ªïng s·ªë entry:", length(all_keys), "\n")
all_keys
cat("T·ªïng s·ªë entry:", length(all_keys), "\n")
# B∆∞·ªõc 3: T√¨m c√°c ID b·ªã tr√πng
duplicated_keys <- all_keys[duplicated(all_keys)]
duplicated_keys
unique(duplicated_keys)  #
bib_unique <- bib[!duplicated(all_keys)]
library(RefManageR)
# B∆∞·ªõc 1: ƒê·ªçc file .bib
bib <- ReadBib("sstt_reference.bib")
# B∆∞·ªõc 2: L·∫•y to√†n b·ªô c√°c key (ID)
all_keys <- bib$key
cat("T·ªïng s·ªë entry:", length(all_keys), "\n")
# B∆∞·ªõc 3: T√¨m key tr√πng
duplicated_keys <- all_keys[duplicated(all_keys)]
# B∆∞·ªõc 4: In ra danh s√°ch key tr√πng (duy nh·∫•t)
duplicated_keys_unique <- unique(duplicated_keys)
cat("C√°c key b·ªã tr√πng:\n")
print(duplicated_keys_unique)
install.packages("biblatex")
citr:::insert_citation()
bookdown:::mathquill()
citr:::insert_citation()
